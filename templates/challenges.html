{% extends "base.html" %}

{% block content %}

    <div class="column is-6 is-offset-3">
        <h1 class="title is-1">Challenges</h1>
        <div class="box">
            {% for challenge in challenges %}
                <article class="media">
                    <div class="media-content">
                        <div class="content">
                            <h1>{{ challenge.title }}</h1>
                            <p>
                                <small>{{ challenge.created.strftime('%d-%m-%Y') }}</small>
                                <br>
                                {{ challenge.body }}
                                <br>
                            {% if challenge.username == current_user.username %}
                            <div class="btn-group btn-group-justified">
                              <div class="btn-group">
                                <button type="button" class="btn btn-primary" href="{{ url_for('challenges.update', id=challenge.id) }}">Update</button>
                              </div>
                              <div class="btn-group">
                                <button type="button" class="btn btn-danger" href="{{ url_for('challenges.delete', id=challenge.id) }}">Delete</button>
                              </div>
                            </div>
                            {% endif %}
                            <button class="button is-info is-centered btn btn-success btn-block">Join Challenge</button>
                            </p>
                        </div>
                    </div>
                </article>
            {% endfor %}
        </div>
    </div>

{% endblock %}